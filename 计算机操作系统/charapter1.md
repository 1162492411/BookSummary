

# 操作系统引论

## 操作系统的目标和作用

* 目标
  * 有效性
  * 方便性
  * 可扩充性
  * 开放性

* 作用
  * OS作为用户与计算机硬件系统之间的接口
  * OS作为计算机系统资源的管理者
  * OS实现了对计算机资源的抽象

## 操作系统的发展过程

通常，人们按照 **计算机元件工艺** 的演变过程，将计算机的发展分为以下几个时代
  * 手工操作
  * 单道批处理系统
  * 多道批处理系统
    * 批处理系统的优点是系统吞吐量大，资源利用率高；主要缺点是交互性差。
  * 分时系统
    * 分时系统是一种联机的多用户交互式的操作系统。一般采用时间片轮转的方式使一台计算机为多个终端提供服务
  * 实时系统
    * 实时系统包括实时控制系统和实时信息处理系统

总结之，
* 操作系统的定义
  * **一种能有效地组织和管理计算机硬件和软件资源，合理地对各类作业进行调度，以及方便用户使用的程序的集合**
* 操作系统的分类
  * **批处理系统**、**分时系统**、**实时系统**


## 操作系统的概念和基本特性

* 操作系统的层次
  * 硬件层 : 提供基础的可计算资源
  * 操作系统层 : 对硬件资源做首次扩充和改造
  * 系统程序层 : 解决用户不同的应用问题
  * 用户最终通过应用程序与计算机交互来解决应用问题

* 以多道程序设计为基础的现代操作系统具有以下几个主要特征
  * **并发性** : 两个及以上的运行程序在同一时间间隔段内同时执行
  * **共享性** : 操作系统中的资源能被多个并发执行的进程所使用
    * 并发性和共享性是操作系统两个最基本的特征
    * 资源共享的方式分为`互斥共享`和`同时访问`
    * 互斥共享是指同一时间仅允许一个进程访问资源，这种资源称为`临界资源`
    * 同时访问是指同一时间允许多个进程访问同一资源
  * **异步性** : 也称不确定性，即“走走停停”
  * **虚拟性** : 将物理上的一个实体变成逻辑上的多个对应物

* 进程是**一个具有一定独立功能的程序在某个数据集合上的一次动态执行过程**

## 操作系统的主要功能

* **处理机管理**
  * 对处理机的管理可以归结为对进程的管理，包括:进程控制、进程同步、进程通信、调度
* **存储管理**
  * 包括存储分配与回收、存储保护、地址映射、内存扩充
* **设备管理**
  * 管理各类外围设备，向用户屏蔽硬件使用细节
* **文件管理**
  * 对用户文件和系统文件按名存取、实现文件的共享保护和加密、提供给用户一套能方便使用文件的操作和命令
* **用户接口**
  * 包括程序接口、命令接口、图形接口

## 操作系统的结构设计

操作系统的结构有如下几种
* 无结构OS
* 模块化OS
* 分层式OS
* 微内核结构

### 处理机的态
为了能正确管理和控制，操作系统本身不能被破坏，为此系统应该建立一个保护环境，采用的方法就是区分处理机的态

在系统中有两类程序，分别是`管理程序`和`用户程序`。管理程序的任务是：管理和控制者、为用户提供服务、负责管理和分配系统资源；用户程序的任务是：被管理和控制者、所需资源必须向操作系统提出请求、享受系统提供的服务

通过处理机当前正在执行哪一类程序来区分处理机的态，分为`核态`和`用户态`：处理机执行管理程序时为核态，此时CPU能够使用全部资源和全部指令；处理机执行用户程序时为用户态，只能访问用户程序所在的存储空间

用户程序执行时如果需要请求操作系统服务，则由用户态转为核态；服务执行完毕后由核态返回用户态
